var FbElementList=new Class({Extends:FbElement,initialize:function(b,a){this.parent(b,a)},_getSubElements:function(){if(!this.element){this.subElements=$A()}else{this.subElements=this.element.getElements("input");this.subElements.each(function(a){a.addEvent("click",function(b){Fabrik.fireEvent("fabrik.element.click",[this,b])})})}return this.subElements},addNewEvent:function(action,js){if(action==="load"){this.loadEvents.push(js);this.runLoadEvent(js)}else{this._getSubElements();this.subElements.each(function(el){el.addEvent(action,function(e){$type(js)==="function"?js.delay(0):eval(js)})})}},watchAdd:function(){var a;if(this.options.allowadd===true&&this.options.editable!==false){var d=this.options.element;var b=this.getContainer();b.getElement("input[type=button]").addEvent("click",function(j){var c=b.getElement("input[name=addPicklistLabel]");var f=b.getElement("input[name=addPicklistValue]");var g=c.value;if(f){a=f.value}else{a=g}if(a===""||g===""){alert(Joomla.JText._("PLG_ELEMENT_CHECKBOX_ENTER_VALUE_LABEL"))}else{var h=this.subElements.getLast().findUp("li").clone();h.getElement("input").value=a;var i=h.getElement("input").id.replace(d+"_","").toInt();i++;h.getElement("input").checked="checked";h.getElement("input").id=d+"_"+i;h.getElement("label").setProperty("for",d+"_"+i);h.getElement("span").set("text",g);h.inject(this.subElements.getLast().findUp("li"),"after");this._getSubElements();j.stop();if(f){f.value=""}c.value="";this.addNewOption(a,g);if(this.mySlider){this.mySlider.toggle()}}}.bind(this))}}});